{"mappings":"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","sources":["<anon>","src/js/api.js","src/js/config.js","node_modules/process/browser.js"],"sourcesContent":["(function () {\nvar $parcel$global =\ntypeof globalThis !== 'undefined'\n  ? globalThis\n  : typeof self !== 'undefined'\n  ? self\n  : typeof window !== 'undefined'\n  ? window\n  : typeof global !== 'undefined'\n  ? global\n  : {};\nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequirec6c5\"];\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequirec6c5\"] = parcelRequire;\n}\nparcelRequire.register(\"k4xLy\", function(module, exports) {\n\nvar $5uP5u = parcelRequire(\"5uP5u\");\nvar $e9ce5f9650fb154f$require$API_URL = $5uP5u.API_URL;\nvar $e9ce5f9650fb154f$require$WS_URL = $5uP5u.WS_URL;\nasync function $e9ce5f9650fb154f$var$getJson(path, opts = {}) {\n    const url = path.startsWith(\"http\") ? path : `${$e9ce5f9650fb154f$require$API_URL}${path}`;\n    const res = await fetch(url, {\n        ...opts,\n        headers: {\n            \"Content-Type\": \"application/json\",\n            ...opts.headers || {}\n        }\n    });\n    if (!res.ok) throw new Error(`GET ${url} failed: ${res.status}`);\n    return res.json();\n}\nfunction $e9ce5f9650fb154f$var$connectWs({ onMessage: onMessage, onOpen: onOpen, onClose: onClose, retryMs: retryMs = 2000 } = {}) {\n    let ws;\n    let stopped = false;\n    function connect() {\n        if (stopped) return;\n        ws = new WebSocket($e9ce5f9650fb154f$require$WS_URL);\n        ws.onopen = ()=>{\n            if (onOpen) onOpen(ws);\n        };\n        ws.onmessage = (ev)=>{\n            try {\n                const msg = JSON.parse(ev.data);\n                onMessage && onMessage(msg);\n            } catch (_) {}\n        };\n        ws.onclose = ()=>{\n            if (onClose) onClose();\n            if (!stopped) setTimeout(connect, retryMs);\n        };\n        ws.onerror = ()=>{\n            try {\n                ws.close();\n            } catch (_) {}\n        };\n    }\n    connect();\n    return {\n        stop () {\n            stopped = true;\n            try {\n                ws && ws.close();\n            } catch (_) {}\n        }\n    };\n}\nmodule.exports = {\n    getJson: $e9ce5f9650fb154f$var$getJson,\n    connectWs: $e9ce5f9650fb154f$var$connectWs,\n    API_URL: $e9ce5f9650fb154f$require$API_URL,\n    WS_URL: $e9ce5f9650fb154f$require$WS_URL\n};\n\n});\nparcelRequire.register(\"5uP5u\", function(module, exports) {\n\nvar $aKZwM = parcelRequire(\"aKZwM\");\nfunction $40076206ffb134dc$var$resolveBaseUrls() {\n    const html = document.documentElement;\n    const dataApi = html ? html.getAttribute(\"data-api-url\") : null;\n    const dataWs = html ? html.getAttribute(\"data-ws-url\") : null;\n    const envApi = (typeof $aKZwM !== \"undefined\" && $aKZwM.env && undefined, null);\n    const envWs = (typeof $aKZwM !== \"undefined\" && $aKZwM.env && undefined, null);\n    const apiUrl = dataApi || envApi || \"http://localhost:4000\";\n    const wsUrl = dataWs || envWs || apiUrl.replace(/^http/, \"ws\") + \"/ws\";\n    return {\n        API_URL: apiUrl,\n        WS_URL: wsUrl\n    };\n}\nmodule.exports = $40076206ffb134dc$var$resolveBaseUrls();\n\n});\nparcelRequire.register(\"aKZwM\", function(module, exports) {\n// shim for using process in browser\nvar $7d4ded62d5b02cb9$var$process = module.exports = {};\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\nvar $7d4ded62d5b02cb9$var$cachedSetTimeout;\nvar $7d4ded62d5b02cb9$var$cachedClearTimeout;\nfunction $7d4ded62d5b02cb9$var$defaultSetTimout() {\n    throw new Error(\"setTimeout has not been defined\");\n}\nfunction $7d4ded62d5b02cb9$var$defaultClearTimeout() {\n    throw new Error(\"clearTimeout has not been defined\");\n}\n(function() {\n    try {\n        if (typeof setTimeout === \"function\") $7d4ded62d5b02cb9$var$cachedSetTimeout = setTimeout;\n        else $7d4ded62d5b02cb9$var$cachedSetTimeout = $7d4ded62d5b02cb9$var$defaultSetTimout;\n    } catch (e) {\n        $7d4ded62d5b02cb9$var$cachedSetTimeout = $7d4ded62d5b02cb9$var$defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === \"function\") $7d4ded62d5b02cb9$var$cachedClearTimeout = clearTimeout;\n        else $7d4ded62d5b02cb9$var$cachedClearTimeout = $7d4ded62d5b02cb9$var$defaultClearTimeout;\n    } catch (e) {\n        $7d4ded62d5b02cb9$var$cachedClearTimeout = $7d4ded62d5b02cb9$var$defaultClearTimeout;\n    }\n})();\nfunction $7d4ded62d5b02cb9$var$runTimeout(fun) {\n    if ($7d4ded62d5b02cb9$var$cachedSetTimeout === setTimeout) //normal enviroments in sane situations\n    return setTimeout(fun, 0);\n    // if setTimeout wasn't available but was latter defined\n    if (($7d4ded62d5b02cb9$var$cachedSetTimeout === $7d4ded62d5b02cb9$var$defaultSetTimout || !$7d4ded62d5b02cb9$var$cachedSetTimeout) && setTimeout) {\n        $7d4ded62d5b02cb9$var$cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return $7d4ded62d5b02cb9$var$cachedSetTimeout(fun, 0);\n    } catch (e) {\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return $7d4ded62d5b02cb9$var$cachedSetTimeout.call(null, fun, 0);\n        } catch (e) {\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return $7d4ded62d5b02cb9$var$cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n}\nfunction $7d4ded62d5b02cb9$var$runClearTimeout(marker) {\n    if ($7d4ded62d5b02cb9$var$cachedClearTimeout === clearTimeout) //normal enviroments in sane situations\n    return clearTimeout(marker);\n    // if clearTimeout wasn't available but was latter defined\n    if (($7d4ded62d5b02cb9$var$cachedClearTimeout === $7d4ded62d5b02cb9$var$defaultClearTimeout || !$7d4ded62d5b02cb9$var$cachedClearTimeout) && clearTimeout) {\n        $7d4ded62d5b02cb9$var$cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return $7d4ded62d5b02cb9$var$cachedClearTimeout(marker);\n    } catch (e) {\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return $7d4ded62d5b02cb9$var$cachedClearTimeout.call(null, marker);\n        } catch (e) {\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return $7d4ded62d5b02cb9$var$cachedClearTimeout.call(this, marker);\n        }\n    }\n}\nvar $7d4ded62d5b02cb9$var$queue = [];\nvar $7d4ded62d5b02cb9$var$draining = false;\nvar $7d4ded62d5b02cb9$var$currentQueue;\nvar $7d4ded62d5b02cb9$var$queueIndex = -1;\nfunction $7d4ded62d5b02cb9$var$cleanUpNextTick() {\n    if (!$7d4ded62d5b02cb9$var$draining || !$7d4ded62d5b02cb9$var$currentQueue) return;\n    $7d4ded62d5b02cb9$var$draining = false;\n    if ($7d4ded62d5b02cb9$var$currentQueue.length) $7d4ded62d5b02cb9$var$queue = $7d4ded62d5b02cb9$var$currentQueue.concat($7d4ded62d5b02cb9$var$queue);\n    else $7d4ded62d5b02cb9$var$queueIndex = -1;\n    if ($7d4ded62d5b02cb9$var$queue.length) $7d4ded62d5b02cb9$var$drainQueue();\n}\nfunction $7d4ded62d5b02cb9$var$drainQueue() {\n    if ($7d4ded62d5b02cb9$var$draining) return;\n    var timeout = $7d4ded62d5b02cb9$var$runTimeout($7d4ded62d5b02cb9$var$cleanUpNextTick);\n    $7d4ded62d5b02cb9$var$draining = true;\n    var len = $7d4ded62d5b02cb9$var$queue.length;\n    while(len){\n        $7d4ded62d5b02cb9$var$currentQueue = $7d4ded62d5b02cb9$var$queue;\n        $7d4ded62d5b02cb9$var$queue = [];\n        while(++$7d4ded62d5b02cb9$var$queueIndex < len)if ($7d4ded62d5b02cb9$var$currentQueue) $7d4ded62d5b02cb9$var$currentQueue[$7d4ded62d5b02cb9$var$queueIndex].run();\n        $7d4ded62d5b02cb9$var$queueIndex = -1;\n        len = $7d4ded62d5b02cb9$var$queue.length;\n    }\n    $7d4ded62d5b02cb9$var$currentQueue = null;\n    $7d4ded62d5b02cb9$var$draining = false;\n    $7d4ded62d5b02cb9$var$runClearTimeout(timeout);\n}\n$7d4ded62d5b02cb9$var$process.nextTick = function(fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) for(var i = 1; i < arguments.length; i++)args[i - 1] = arguments[i];\n    $7d4ded62d5b02cb9$var$queue.push(new $7d4ded62d5b02cb9$var$Item(fun, args));\n    if ($7d4ded62d5b02cb9$var$queue.length === 1 && !$7d4ded62d5b02cb9$var$draining) $7d4ded62d5b02cb9$var$runTimeout($7d4ded62d5b02cb9$var$drainQueue);\n};\n// v8 likes predictible objects\nfunction $7d4ded62d5b02cb9$var$Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\n$7d4ded62d5b02cb9$var$Item.prototype.run = function() {\n    this.fun.apply(null, this.array);\n};\n$7d4ded62d5b02cb9$var$process.title = \"browser\";\n$7d4ded62d5b02cb9$var$process.browser = true;\n$7d4ded62d5b02cb9$var$process.env = {};\n$7d4ded62d5b02cb9$var$process.argv = [];\n$7d4ded62d5b02cb9$var$process.version = \"\"; // empty string to avoid regexp issues\n$7d4ded62d5b02cb9$var$process.versions = {};\nfunction $7d4ded62d5b02cb9$var$noop() {}\n$7d4ded62d5b02cb9$var$process.on = $7d4ded62d5b02cb9$var$noop;\n$7d4ded62d5b02cb9$var$process.addListener = $7d4ded62d5b02cb9$var$noop;\n$7d4ded62d5b02cb9$var$process.once = $7d4ded62d5b02cb9$var$noop;\n$7d4ded62d5b02cb9$var$process.off = $7d4ded62d5b02cb9$var$noop;\n$7d4ded62d5b02cb9$var$process.removeListener = $7d4ded62d5b02cb9$var$noop;\n$7d4ded62d5b02cb9$var$process.removeAllListeners = $7d4ded62d5b02cb9$var$noop;\n$7d4ded62d5b02cb9$var$process.emit = $7d4ded62d5b02cb9$var$noop;\n$7d4ded62d5b02cb9$var$process.prependListener = $7d4ded62d5b02cb9$var$noop;\n$7d4ded62d5b02cb9$var$process.prependOnceListener = $7d4ded62d5b02cb9$var$noop;\n$7d4ded62d5b02cb9$var$process.listeners = function(name) {\n    return [];\n};\n$7d4ded62d5b02cb9$var$process.binding = function(name) {\n    throw new Error(\"process.binding is not supported\");\n};\n$7d4ded62d5b02cb9$var$process.cwd = function() {\n    return \"/\";\n};\n$7d4ded62d5b02cb9$var$process.chdir = function(dir) {\n    throw new Error(\"process.chdir is not supported\");\n};\n$7d4ded62d5b02cb9$var$process.umask = function() {\n    return 0;\n};\n\n});\n\n\n\n\nparcelRequire(\"k4xLy\");\n})();\n//# sourceMappingURL=api.js.map\n","const { API_URL, WS_URL } = require('./config');\n\nasync function getJson(path, opts = {}) {\n  const url = path.startsWith('http') ? path : `${API_URL}${path}`;\n  const res = await fetch(url, { ...opts, headers: { 'Content-Type': 'application/json', ...(opts.headers || {}) } });\n  if (!res.ok) throw new Error(`GET ${url} failed: ${res.status}`);\n  return res.json();\n}\n\nfunction connectWs({ onMessage, onOpen, onClose, retryMs = 2000 } = {}) {\n  let ws;\n  let stopped = false;\n  function connect() {\n    if (stopped) return;\n    ws = new WebSocket(WS_URL);\n    ws.onopen = () => { if (onOpen) onOpen(ws); };\n    ws.onmessage = (ev) => {\n      try { const msg = JSON.parse(ev.data); onMessage && onMessage(msg); } catch (_) { /* ignore */ }\n    };\n    ws.onclose = () => {\n      if (onClose) onClose();\n      if (!stopped) setTimeout(connect, retryMs);\n    };\n    ws.onerror = () => { try { ws.close(); } catch (_) {} };\n  }\n  connect();\n  return { stop() { stopped = true; try { ws && ws.close(); } catch (_) {} } };\n}\n\nmodule.exports = { getJson, connectWs, API_URL, WS_URL };","function resolveBaseUrls() {\n  const html = document.documentElement;\n  const dataApi = html ? html.getAttribute('data-api-url') : null;\n  const dataWs = html ? html.getAttribute('data-ws-url') : null;\n  const envApi = (typeof process !== 'undefined' && process.env && process.env.API_URL) ? process.env.API_URL : null;\n  const envWs = (typeof process !== 'undefined' && process.env && process.env.WS_URL) ? process.env.WS_URL : null;\n\n  const apiUrl = dataApi || envApi || 'http://localhost:4000';\n  const wsUrl = dataWs || envWs || apiUrl.replace(/^http/, 'ws') + '/ws';\n\n  return { API_URL: apiUrl, WS_URL: wsUrl };\n}\n\nmodule.exports = resolveBaseUrls();","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n"],"names":["$parcel$global","$parcel$modules","$parcel$inits","parcelRequire","globalThis","self","window","global","id","exports","init","module","call","err","Error","code","register","$5uP5u","$e9ce5f9650fb154f$require$API_URL","API_URL","$e9ce5f9650fb154f$require$WS_URL","WS_URL","$e9ce5f9650fb154f$var$getJson","path","opts","url","startsWith","res","fetch","headers","ok","status","json","getJson","connectWs","onMessage","onOpen","onClose","retryMs","ws","stopped","connect","WebSocket","onopen","onmessage","ev","msg","JSON","parse","data","_","onclose","setTimeout","onerror","close","stop","$aKZwM","$40076206ffb134dc$var$resolveBaseUrls","html","document","documentElement","dataApi","getAttribute","dataWs","envApi","env","envWs","apiUrl","wsUrl","replace","$7d4ded62d5b02cb9$var$cachedSetTimeout","$7d4ded62d5b02cb9$var$cachedClearTimeout","$7d4ded62d5b02cb9$var$currentQueue","$7d4ded62d5b02cb9$var$process","$7d4ded62d5b02cb9$var$defaultSetTimout","$7d4ded62d5b02cb9$var$defaultClearTimeout","$7d4ded62d5b02cb9$var$runTimeout","fun","e","clearTimeout","$7d4ded62d5b02cb9$var$queue","$7d4ded62d5b02cb9$var$draining","$7d4ded62d5b02cb9$var$queueIndex","$7d4ded62d5b02cb9$var$cleanUpNextTick","length","concat","$7d4ded62d5b02cb9$var$drainQueue","timeout","len","run","$7d4ded62d5b02cb9$var$runClearTimeout","marker","$7d4ded62d5b02cb9$var$Item","array","$7d4ded62d5b02cb9$var$noop","nextTick","args","Array","arguments","i","push","prototype","apply","title","browser","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","name","binding","cwd","chdir","dir","umask"],"version":3,"file":"api.js.map"}